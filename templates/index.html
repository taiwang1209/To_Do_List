<!doctype html>
<html lang='zh-tw'>

<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <meta name='description' content=''>
    <meta name='author' content='Mark Otto, Jacob Thornton, and Bootstrap contributors'>
    <meta name='generator' content='Hugo 0.83.1'>
    <title>ğŸ“‹ To-Do List</title>

    <!-- Bootstrap core CSS -->
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel='stylesheet'>
    <link href="{{ url_for('static', filename='css/fa.all.min.css') }}" rel='stylesheet'>

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

</head>

<body class='bg-light'>

    <div class='container'>
        <main>
            <div class='py-4 text-center'>
                <h1 class='far fa-list-alt'></h1>
                <h3>è¨˜éŒ„æ‚¨çš„å¾…è¾¦äº‹é …ï¼Œæ•´ç†å·¥ä½œèˆ‡ç”Ÿæ´»ä¸­æ‰€æœ‰å¤§å°äº‹...</h3>
            </div>

            <div class='row'>
                <div class='col-md-12 col-lg-12'>
                    <h4>æ–°å¢å¾…è¾¦äº‹é …</h4>
                    <form class='needs-validation' method='POST' action='/'>
                        <div>
                            <div class='row'>
                                <div class='col-sm-6'>
                                    <div class='input-group'>
                                        <input type='text' class='form-control' name='content' id='content'
                                            placeholder='âœï¸ è«‹å¡«å…¥å¾…è¾¦äº‹é …' required>
                                    </div>
                                </div>
                                <div class='col-sm-6'>
                                    <select class='form-select' name='level' required>
                                        <option selected disabled value=''>â° è«‹é¸æ“‡é‡è¦ç¨‹åº¦</option>
                                        <option value='&#128994;'>ğŸŸ¢ æ™®é€š</option>
                                        <option value='&#128992;'>ğŸŸ  ç·Šæ€¥</option>
                                        <option value='&#128308;'>ğŸ”´ æœ€ç·Šæ€¥</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button class='mt-3 w-100 btn btn-primary btn-lg' type='submit'><i
                                class='fas fa-plus-circle'></i> æ–°å¢</button>
                    </form>
                </div>
                <hr class='mt-3'>
                <div class='col-md-12 col-lg-12'>
                    <div class='card'>
                        <div class='card-header'>
                            å¾…è¾¦äº‹é …
                        </div>
                        <div class='card-body'>
                            {% if tasks|length < 1 %} <!-- è‹¥ä»£è¾¦äº‹é …ç‚ºç©º -->
                                <h3 class='text-center'><i class='fas fa-cannabis' style='color:#228B22;'></i>
                                    æ”¾é¬†ä¸€ä¸‹å§ï¼Œç›®å‰æ²’æœ‰ä»£è¾¦äº‹é …ï¼ <i class='fas fa-cannabis' style='color:#228B22;'></i></h3>
                                {% else %}
                                <table class='table'>
                                    <thead>
                                        <tr>
                                            <th>ç­‰ç´š</th>
                                            <th>äº‹ä»¶å…§å®¹</th>
                                            <th>æ™‚é–“</th>
                                            <th>ç·¨è¼¯</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for task in tasks %}
                                        <tr>
                                            <td>{{ task.level }}</td>
                                            <td>{{ task.content }}</td>
                                            <td>{{ task.date_created }}</td>
                                            <td>
                                                <div class='btn-group' role='group' aria-label='Basic example'>
                                                    <button type='button' class='btn btn-success' data-bs-toggle='modal'
                                                        data-bs-target='#update{{task.id}}'><i
                                                            class='fas fa-pencil-alt'></i></button>
                                                    <button type='button' class='btn btn-danger' data-bs-toggle='modal'
                                                        data-bs-target='#delete{{task.id}}'><i
                                                            class='fas fa-trash-alt'></i></button>
                                                </div>
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                                {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal Update -->
            {% for task in tasks %}
            <div class='modal fade' id='update{{task.id}}' data-bs-backdrop='static' data-bs-keyboard='false'
                tabindex='-1' aria-labelledby='staticBackdropLabel' aria-hidden='true'>
                <div class='modal-dialog'>
                    <form method='POST' action='update/{{task.id}}'>
                        <div class='modal-content'>
                            <div class='modal-header'>
                                <h5 class='modal-title'>ç·¨è¼¯ä»£è¾¦äº‹é …</h5>
                                <button type='button' class='btn-close' data-bs-dismiss='modal'
                                    aria-label='Close'></button>
                            </div>
                            <div class='modal-body'>
                                <div class='mb-3'>
                                    <input type='text' class='form-control' name='update_content' id='update_content'
                                        value='{{task.content}}' required>
                                </div>
                                <div class='mb-3'>
                                    <select class='form-select' name='update_level' id='update_level' required>
                                        <option selected disabled value=''>â° è«‹é¸æ“‡é‡è¦ç¨‹åº¦</option>
                                        <option value='&#128994;'>ğŸŸ¢ æ™®é€š</option>
                                        <option value='&#128992;'>ğŸŸ  ç·Šæ€¥</option>
                                        <option value='&#128308;'>ğŸ”´ æœ€ç·Šæ€¥</option>
                                    </select>
                                </div>
                            </div>
                            <div class='modal-footer'>
                                <button type='button' class='btn btn-secondary' data-bs-dismiss='modal'><i
                                        class='fas fa-times'></i> é—œé–‰</button>
                                <button type='submit' class='btn btn-primary'><i class='fas fa-pencil-alt'></i>
                                    ä¿®æ”¹</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            {% endfor %}
            <!-- Modal Delete -->
            {% for task in tasks %}
            <div class='modal fade' id='delete{{task.id}}' data-bs-backdrop='static' data-bs-keyboard='false'
                tabindex='-1' aria-labelledby='staticBackdropLabel' aria-hidden='true'>
                <div class='modal-dialog'>
                    <div class='modal-content'>
                        <div class='modal-header'>
                            <h5 class='modal-title'>ç¢ºå®šè¦åˆªé™¤å—ï¼Ÿ</h5>
                            <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>
                        </div>
                        <div class='modal-footer'>
                            <button type='button' class='btn btn-secondary' data-bs-dismiss='modal'><i
                                    class='fas fa-times'></i> é—œé–‰</button>
                            <button type='button' class='btn btn-danger'
                                onclick="location.href='delete/{{task.id}}';"><i class='fas fa-trash-alt'></i>
                                åˆªé™¤</button>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </main>

        <footer class='my-5 pt-5 text-muted text-center text-small'>
            <p class='mb-1'>&copy; 2021 Tai</p>
        </footer>
    </div>
    <script src="{{url_for('static', filename='js/bootstrap.bundle.min.js')}}"></script>
</body>

</html>